{"ast":null,"code":"var _jsxFileName = \"F:\\\\Cours A2\\\\Genie Logiciel\\\\tenet-project\\\\tenet-front\\\\src\\\\Authentication\\\\Register.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Axios from 'axios';\nimport { Button } from \"@material-ui/core\";\nimport \"./authentication.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Register() {\n  _s();\n\n  const [nameReg, setNameReg] = useState(\"\");\n  const [emailReg, setEmailReg] = useState(\"\");\n  const [passwordReg, setPasswordReg] = useState(\"\");\n  const [passwordConfirmationReg, setPasswordConfirmationReg] = useState(\"\");\n  const [birthDateReg, setBirthDateReg] = useState(\"\");\n  const [userTypeReg, setUserTypeReg] = useState(\"Patient\");\n  let history = useHistory();\n  Axios.defaults.withCredentials = true;\n\n  function checkIfLoggedIn() {\n    Axios.get(\"http://localhost:9000/isLoggedIn\", {}).then(res => {\n      console.log(res);\n\n      if (res.data.login) {\n        history.push(\"/myspace\");\n      }\n    });\n  }\n\n  useEffect(() => {\n    checkIfLoggedIn();\n  });\n\n  function registerUser() {\n    if (passwordReg == passwordConfirmationReg) {\n      console.log(\"Passwords match, Registering\");\n      Axios.post(\"http://localhost:9000/register\", {\n        email: emailReg,\n        password: passwordReg,\n        fullName: nameReg,\n        birthDate: birthDateReg,\n        userType: userTypeReg\n      }).then(res => {\n        console.log(res);\n      });\n    } else {\n      console.log(\"Passwords dont match\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"authentication-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"form-title\",\n        children: \"Inscription \\xE0 notre service\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"name\",\n          required: true,\n          onChange: e => setNameReg(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"name\",\n          children: \"Nom et Pr\\xE9nom\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"email\",\n          required: true,\n          onChange: e => setEmailReg(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"E-Mail\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          required: true,\n          onChange: e => setPasswordReg(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Mot de Passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"passwordConfirmation\",\n          required: true,\n          onChange: e => setPasswordConfirmationReg(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"passwordConfirmation\",\n          children: \"Confirmation du Mot de Passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-date\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          id: \"birthDate\",\n          required: true,\n          onChange: e => setBirthDateReg(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"birthDate\",\n          children: \"Date de Naissance\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        className: \"form-input\",\n        onChange: e => setUserTypeReg(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Patient\",\n          selected: \"selected\",\n          children: \"Patient\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Volontaire\",\n          children: \"Volontaire\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"Medecin\",\n          children: \"M\\xE9decin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        size: \"large\",\n        style: {\n          backgroundColor: \"#36493C\",\n          color: \"white\",\n          fontWeight: \"bold\"\n        },\n        type: \"submit\",\n        onClick: registerUser,\n        children: \"M'INSCRIRE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        style: {\n          textDecoration: \"none\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"form-subtext\",\n          children: \"Vous avez d\\xE9j\\xE0 un compte ? Connectez-vous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Register, \"nTOkq9CKpaSbONy+amkmia6u7bI=\", false, function () {\n  return [useHistory];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["F:/Cours A2/Genie Logiciel/tenet-project/tenet-front/src/Authentication/Register.jsx"],"names":["React","useEffect","useState","Axios","Button","Link","useHistory","Register","nameReg","setNameReg","emailReg","setEmailReg","passwordReg","setPasswordReg","passwordConfirmationReg","setPasswordConfirmationReg","birthDateReg","setBirthDateReg","userTypeReg","setUserTypeReg","history","defaults","withCredentials","checkIfLoggedIn","get","then","res","console","log","data","login","push","registerUser","post","email","password","fullName","birthDate","userType","e","target","value","backgroundColor","color","fontWeight","textDecoration"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Axios from 'axios';\r\nimport {Button} from \"@material-ui/core\";\r\nimport \"./authentication.css\"\r\nimport {Link, useHistory} from \"react-router-dom\";\r\n\r\nfunction Register() {\r\n    const [nameReg, setNameReg] = useState(\"\");\r\n    const [emailReg, setEmailReg] = useState(\"\");\r\n    const [passwordReg, setPasswordReg] = useState(\"\");\r\n    const [passwordConfirmationReg, setPasswordConfirmationReg] = useState(\"\");\r\n    const [birthDateReg, setBirthDateReg] = useState(\"\");\r\n    const [userTypeReg, setUserTypeReg] = useState(\"Patient\");\r\n\r\n    let history = useHistory();\r\n    Axios.defaults.withCredentials = true;\r\n    function checkIfLoggedIn() {\r\n        Axios.get(\"http://localhost:9000/isLoggedIn\", {\r\n        }).then((res) => {\r\n            console.log(res);\r\n            if (res.data.login) {\r\n                history.push(\"/myspace\");\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        checkIfLoggedIn();\r\n    })\r\n\r\n    function registerUser() {\r\n        if (passwordReg == passwordConfirmationReg) {\r\n            console.log(\"Passwords match, Registering\")\r\n            Axios.post(\"http://localhost:9000/register\", {\r\n                email: emailReg,\r\n                password: passwordReg,\r\n                fullName: nameReg,\r\n                birthDate: birthDateReg,\r\n                userType: userTypeReg\r\n            }).then((res) => {\r\n                console.log(res);\r\n            })\r\n        } else {\r\n            console.log(\"Passwords dont match\")\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div className={\"form-container\"}>\r\n            <form className={\"authentication-form\"}>\r\n                <span className={\"form-title\"}>\r\n                    Inscription à notre service\r\n                </span>\r\n\r\n                <div className={\"form-input\"}>\r\n                    <input type={\"text\"} id={\"name\"} required onChange={(e) => setNameReg(e.target.value)}/>\r\n                    <label htmlFor={\"name\"}>Nom et Prénom</label>\r\n                </div>\r\n\r\n                <div className={\"form-input\"}>\r\n                    <input type={\"text\"} id={\"email\"} required onChange={(e) => setEmailReg(e.target.value)}/>\r\n                    <label htmlFor={\"email\"}>E-Mail</label>\r\n                </div>\r\n\r\n                <div className={\"form-input\"}>\r\n                    <input type={\"password\"} id={\"password\"} required onChange={(e) => setPasswordReg(e.target.value)}/>\r\n                    <label htmlFor={\"password\"}>Mot de Passe</label>\r\n                </div>\r\n\r\n                <div className={\"form-input\"}>\r\n                    <input type={\"password\"} id={\"passwordConfirmation\"} required onChange={(e) => setPasswordConfirmationReg(e.target.value)}/>\r\n                    <label htmlFor={\"passwordConfirmation\"}>Confirmation du Mot de Passe</label>\r\n                </div>\r\n\r\n                <div className={\"form-date\"}>\r\n                    <input type={\"date\"} id={\"birthDate\"} required onChange={(e) => setBirthDateReg(e.target.value)}/>\r\n                    <label htmlFor={\"birthDate\"}>Date de Naissance</label>\r\n                </div>\r\n\r\n                <select className={\"form-input\"} onChange={(e) => setUserTypeReg(e.target.value)}>\r\n                    <option value=\"Patient\" selected={\"selected\"}>Patient</option>\r\n                    <option value=\"Volontaire\">Volontaire</option>\r\n                    <option value=\"Medecin\">Médecin</option>\r\n                </select>\r\n\r\n                <Button variant={\"contained\"} size={\"large\"} style={{backgroundColor: \"#36493C\", color: \"white\", fontWeight: \"bold\"}} type={\"submit\"} onClick={registerUser}>\r\n                    M'INSCRIRE\r\n                </Button>\r\n\r\n                <Link to={\"/login\"} style={{textDecoration: \"none\"}}>\r\n                    <span className={\"form-subtext\"}>\r\n                        Vous avez déjà un compte ? Connectez-vous\r\n                    </span>\r\n                </Link>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}